{% extends 'layout.html' %}
{% block content %}
<h2 style="color:#5a189a; margin-bottom:24px;">ðŸ“Š Profit Analysis</h2>

<!-- Report Type Selector -->
<form method="get" style="margin-bottom:24px;display:flex;gap:12px;align-items:center;flex-wrap:wrap;">
    <label>Report Type:</label>
    <select name="report_type" style="padding:8px;border-radius:6px;border:1px solid #ccc;">
        <option value="total_profit" {% if report_type == 'total_profit' %}selected{% endif %}>Total & Average Profit</option>
        <option value="profit_per_item" {% if report_type == 'profit_per_item' %}selected{% endif %}>Profit Per Inventory Item</option>
        <option value="profit_per_service" {% if report_type == 'profit_per_service' %}selected{% endif %}>Profit Per Service Type</option>
    </select>
    <button type="submit" style="background:#5a189a;color:#fff;padding:8px 18px;border:none;border-radius:6px;font-weight:600;cursor:pointer;">Generate Report</button>
</form>

{% if chart %}
<div style="background:#f3f0ff;padding:24px;border-radius:12px;box-shadow:0 2px 8px rgba(90,24,154,0.04);">
    {{ chart|safe }}
</div>
{% else %}
<div style="background:#f3f0ff;padding:24px;border-radius:12px;text-align:center;">
    <p>No data available for analysis. Please add some jobs first.</p>
</div>
{% endif %}
{% endblock %}